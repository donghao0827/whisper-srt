# Whisper-SRT 视频字幕生成工具使用说明

本项目是一个基于OpenAI Whisper的视频字幕生成工具，能够自动从视频中提取音频并生成高质量字幕。

## 快速开始

我们提供了一个便捷的脚本`fix_video_to_subtitle.py`，它能自动处理FFmpeg依赖，解决路径问题，并生成字幕。

### 基本用法

```bash
python fix_video_to_subtitle.py <视频文件路径> -m <模型大小> -l <语言代码>
```

例如，处理中文视频：
```bash
python fix_video_to_subtitle.py workspace/视频文件.mp4 -m base -l zh
```

### 参数说明

- `-m, --model`：模型大小，可选值为tiny、base、small、medium、large（越大越精确但速度越慢）
- `-l, --language`：语言代码，如zh表示中文，en表示英文（不填则自动检测）
- `-f, --format`：字幕格式，可选值为srt或vtt（默认为srt）
- `-o, --output`：输出文件路径（默认与视频同名同目录）
- `--keep-audio`：保留临时音频文件（默认会删除）

### 模型说明

- `tiny`：最小最快的模型，准确度较低
- `base`：基本模型，平衡速度和准确度
- `small`：提供更好的准确度，但速度较慢
- `medium`：准确度高，但需要更多内存和处理时间
- `large`：最大最准确的模型，需要GPU加速才能高效运行

## 优势特点

1. **自动处理依赖**：自动下载并设置FFmpeg，无需手动安装
2. **多语言支持**：支持多种语言的自动识别和转录
3. **高质量字幕**：使用先进的Whisper模型生成高质量字幕
4. **格式选择**：支持常用的SRT和VTT字幕格式

## 系统要求

- Python 3.8+
- Internet连接（首次运行需下载模型和FFmpeg）
- 足够的磁盘空间（根据选择的模型大小，可能需要1-7GB空间）

## 故障排除

如果遇到问题：

1. 确保互联网连接正常，以便下载必要的依赖
2. 如果自动下载FFmpeg失败，可以按照脚本提示手动下载并放置
3. 如果处理大文件时内存不足，尝试使用较小的模型（tiny或base）

## 适用场景

- 视频后期制作
- 内容本地化
- 教育视频添加字幕
- 影视作品字幕制作
- 会议录制内容转录

祝您使用愉快！ 